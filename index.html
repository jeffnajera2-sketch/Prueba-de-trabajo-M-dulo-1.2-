<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Taquilla de CineIM</title>

<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#111;
    color:white;
}
header{
    background:linear-gradient(90deg,#b71c1c,#e53935);
    padding:15px;
    display:flex;
    justify-content:center;
}
.logo{
font-family:'Bebas Neue', sans-serif;
font-size:48px;
letter-spacing:4px;
background:linear-gradient(90deg,#ffd700,#fff2a8,#ffc400,#ffd700);
background-size:300% auto;
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:goldShine 6s linear infinite;
}
@keyframes goldShine{
0%{ background-position:0% center; }
100%{ background-position:300% center; }
}
.container{ padding:20px; }

.movies{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
}
.movie{
background:#222;
padding:15px;
border-radius:10px;
cursor:pointer;
transition:.25s;
}
.movie:hover{
transform:scale(1.05);
background:#333;
}

.screen{
text-align:center;
margin:15px;
padding:5px;
background:#ddd;
color:black;
border-radius:5px;
}

.seats{
display:grid;
grid-template-columns:repeat(8,30px);
gap:8px;
justify-content:center;
}

.seat{
width:30px;
height:30px;
background:#555;
border-radius:5px;
cursor:pointer;
}
.seat.selected{ background:#4caf50; }
.seat.occupied{ background:#b71c1c; cursor:not-allowed; }

button{
margin-top:15px;
padding:10px 15px;
border:none;
background:#c62828;
color:white;
border-radius:8px;
cursor:pointer;
}
button:hover{ background:#e53935; }

#paymentModal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#000000cc;
align-items:center;
justify-content:center;
}
.modalBox{
background:#222;
padding:25px;
border-radius:12px;
width:300px;
text-align:center;
}
.modalBox input{
width:90%;
padding:8px;
margin:6px;
border-radius:6px;
border:none;
}
/* header layout */
.topbar{
display:flex;
align-items:center;
justify-content:center;
gap:15px;
background:linear-gradient(90deg,#b71c1c,#e53935);
padding:15px;
}

/* imagen logo */
.logoImg{
height:70px;
animation: logoFloat 3s ease-in-out infinite;
}

/* texto dorado brillante */
.logoText{
font-family:'Bebas Neue', sans-serif;
font-size:48px;
letter-spacing:4px;

background:linear-gradient(90deg,#ffd700,#fff2a8,#ffc400,#ffd700);
background-size:300% auto;

-webkit-background-clip:text;
-webkit-text-fill-color:transparent;

animation: goldShine 6s linear infinite;
}

/* animaciones */
@keyframes goldShine{
0%{ background-position:0% center;}
100%{ background-position:300% center;}
}

@keyframes logoFloat{
0%{ transform:translateY(0);}
50%{ transform:translateY(-6px);}
100%{ transform:translateY(0);}
}
</style>
</head>

<body>

<header class="topbar">

<img src="https://cdn-icons-png.flaticon.com/512/744/744922.png" style="height:45px;">

<div class="logoText">Taquilla de CineIM</div>

</header>
<!-- HOME -->
<div id="homePage" class="container">

<h2>Cartelera</h2>

<div class="movies">

<div class="movie" onclick="showMovie(0)">
<h3>El Último Robot</h3>
<p>Acción / Ciencia Ficción</p>
</div>

<div class="movie" onclick="showMovie(1)">
<h3>Misterio en la Niebla</h3>
<p>Suspenso</p>
</div>

<div class="movie" onclick="showMovie(2)">
<h3>Iron Man 19</h3>
<p>Acción</p>
</div>

<div class="movie" onclick="showMovie(3)">
<h3>Amor en Marte</h3>
<p>Romance / Sci-Fi</p>
</div>

</div>
</div>

<!-- PAGE MOVIE -->
<div id="moviePage" style="display:none; padding:30px; text-align:center;">

<h1 id="movieTitle"></h1>
<p id="movieDesc" style="max-width:600px;margin:auto;"></p>

<button onclick="startSeats()">Elegir asientos</button>
<button onclick="goHome()">⬅ Volver</button>

<div id="seatSection" style="display:none;margin-top:30px;">

<div class="screen">PANTALLA</div>
<div class="seats" id="seats"></div>

<p>Asientos: <span id="count">0</span></p>
<p>Total: $<span id="total">0</span></p>

<button onclick="buy()">Comprar</button>

</div>
</div>

<!-- MODAL -->
<div id="paymentModal">
<div class="modalBox">

<h2>Pago con Tarjeta</h2>

<input id="name" placeholder="Nombre">
<input id="number" placeholder="Número">
<input id="date" placeholder="MM/AA">
<input id="cvv" placeholder="CVV">

<button onclick="processPayment()">Pagar</button>
<button onclick="closePay()">Cancelar</button>

<p id="payMsg"></p>

</div>
</div>


<!-- SCRIPT VA EXACTAMENTE AQUÍ -->
<script>
const movies=[
{title:"El Último Robot",desc:"En un futuro donde los humanos desaparecieron, el último robot intenta descubrir qué ocurrió."},
{title:"Misterio en la Niebla",desc:"Un detective llega a un pueblo cubierto por niebla donde todos ocultan algo."},
{title:"Iron Man 19",desc:"Un hombre crea un traje para salvar el mundo."},
{title:"Amor en Marte",desc:"Dos astronautas quedan atrapados y el amor aparece."}
];

let price=5;
let selected=[];

function showMovie(i){
document.getElementById("homePage").style.display="none";
document.getElementById("moviePage").style.display="block";

document.getElementById("movieTitle").innerText=movies[i].title;
document.getElementById("movieDesc").innerText=movies[i].desc;

selected=[];
update();
}

function goHome(){
document.getElementById("moviePage").style.display="none";
document.getElementById("homePage").style.display="block";
}

function startSeats(){
document.getElementById("seatSection").style.display="block";
createSeats();
}

function createSeats(){
const container=document.getElementById("seats");
container.innerHTML="";
selected=[];
update();

for(let i=0;i<40;i++){
let seat=document.createElement("div");
seat.className="seat";

if(Math.random()<0.2) seat.classList.add("occupied");

seat.onclick=()=>{
if(seat.classList.contains("occupied")) return;

seat.classList.toggle("selected");

if(selected.includes(i))
selected=selected.filter(x=>x!==i);
else
selected.push(i);

update();
};

container.appendChild(seat);
}
}

function update(){
document.getElementById("count").textContent=selected.length;
document.getElementById("total").textContent=selected.length*price;
}

function buy(){
if(selected.length===0){
alert("Selecciona al menos un asiento");
return;
}
document.getElementById("paymentModal").style.display="flex";
}

function closePay(){
document.getElementById("paymentModal").style.display="none";
}

function processPayment(){
let name=document.getElementById("name").value.trim();
let num=document.getElementById("number").value.trim();
let date=document.getElementById("date").value.trim();
let cvv=document.getElementById("cvv").value.trim();
let msg=document.getElementById("payMsg");

if(!name||!num||!date||!cvv){
msg.textContent="Completa todos los campos";
msg.style.color="orange";
return;
}

msg.textContent="Pago aprobado ✔";
msg.style.color="lightgreen";

setTimeout(()=>{
alert("Compra confirmada\nAsientos: "+selected.join(", "));
closePay();
},1000);
}
</script>

</body>
</html>
